<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with Meyawo landing page.">
    <meta name="author" content="Devcrud">
    <script type="module" src="graph.js"></script>
       
    <script src="socket.io/socket.io.js"></script>
    <title>Arduino Control</title>
    <!-- font icons -->
    <link rel="stylesheet" href="assets/vendors/themify-icons/css/themify-icons.css">
    <!-- Bootstrap + Meyawo main styles -->
	<link rel="stylesheet" href="assets/css/meyawo.css">
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">

    <!-- Page Navbar -->
    <nav class="custom-navbar" data-spy="affix" data-offset-top="20">
        <div class="container">
            <a class="logo" href="#">Arduino Project</a>         
            <ul class="nav">
                <li class="item">
                    <a class="link" href="#home">Home</a>
                </li>
                <li class="item">
                    <a class="link" href="#about">Try me</a>
                </li>
                <li class="item">
                    <a class="link" href="#service">Data Inputs</a>
                </li>
                <li class="item">
                    <a class="link" href="#testmonial">Testmonial</a>
                </li>
                <li class="item ml-md-3">
                    <a href="components.html" class="btn btn-primary">Components</a>
                </li>
            </ul>
            <a href="javascript:void(0)" id="nav-toggle" class="hamburger hamburger--elastic">
                <div class="hamburger-box">
                  <div class="hamburger-inner"></div>
                </div>
            </a>
        </div>          
    </nav><!-- End of Page Navbar -->

    <!-- page header -->
    <header id="home" class="header">
        <div class="overlay"></div>
        <div class="header-content container">
            <h1 class="header-title">
                <span class="up">HI!</span>
                <span class="down">Control your Smart Home!</span>
            </h1>
            <p class="header-subtitle">Just Scroll Below</p>            

            <br><br>
        </div>              
    </header><!-- end of page header -->

    <!-- about section -->
    <section class="section pt-0" id="about">
        <!-- container -->
        <div class="container text-center">
            <!-- about wrapper -->
            <div class="about">
                <div class="about-img-holder">
                    <img src="assets/imgs/lamp.png" class="about-img" alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, meyawo Landing page">
                </div>
                <div class="about-caption">
                    <p class="section-subtitle">Try Me</p>
                    <h2 class="section-title mb-3">Controls</h2>
                    <p>
                        Click on Manual for a continuous light,
                        <br>or on Automatic for a light controlled by your room luminosity              
                    </p>
                    <button class="btn-rounded btn btn-outline-primary mt-4" onclick="turnOn()">Manual</button>
                    <button class="btn-rounded btn btn-outline-primary mt-4" onclick="auto()">Automatic</button>
                </div>              
            </div><!-- end of about wrapper -->
        </div><!-- end of container -->
    </section> <!-- end of about section -->

    <!-- service section -->
    <section class="section" id="service">
        <div class="container text-center">
            <p class="section-subtitle">Have a look at your</p>
            <h6 class="section-title mb-6">Data inputs</h6>
            <!-- row -->
            <div class="about-caption">
              <p>
                <h1>LDR Value: </h1>
                <h6 class="section-title mb-6"><span id="ldr-value"></span></h6>
                <div id="wrap"></div> 
              </p>
          </div>              
        </div><!-- end of container -->
        
    </section> <!-- end of portfolio section -->

    
    <!-- footer -->
    <div class="container">
        <footer class="footer">       
            <p class="mb-0">Copyright <script>document.write(new Date().getFullYear())</script> &copy; <a href="">Zayd EL MEZOUARI</a></p>
            <div class="social-links text-right m-auto ml-sm-auto">
                <a href="javascript:void(0)" class="link"><i class="ti-facebook"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-twitter-alt"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-google"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-pinterest-alt"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-instagram"></i></a>
                <a href="javascript:void(0)" class="link"><i class="ti-rss"></i></a>
            </div>
        </footer>
    </div> <!-- end of page footer -->
	
	<!-- core  -->
    <script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
    <script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>
    <script type="text/javascript">
      var socket = io.connect();
     
      socket.on('led', function (data) {
              document.getElementById("inputSlider").value = data.value;
              document.getElementById("outputText").innerHTML = data.value;
      });
     
      function showValue(newValue)
      {
              document.getElementById("outputText").innerHTML=newValue;
              socket.emit('led', { value: newValue });}
      
      function turnOn() {
  fetch('/manual');
clearInterval();
}
function auto(){
      setInterval(turnOff, 500);
}
      function turnOff() {
  fetch('/automatic');

}
setInterval(() => {
fetch('/ldr')
.then(response => response.text())
.then(data => {
  document.getElementById('average').innerText = data;
})
.catch(error => console.error(error));
}, 100);

</script> 
    <!-- bootstrap 3 affix -->
	<script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>

    <!-- Meyawo js -->
    <script src="assets/js/meyawo.js"></script>

</body>
</html>
